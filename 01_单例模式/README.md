# 作用

**单例模式**是一种创建型设计模式(`Singleton Pattern`)， 保证一个类只有一个实例， 并提供一个访问该实例的全局节点

# 思考

单例模式同时解决了两个问题， 所以违反了*`单一职责原则`*：

1. **保证一个类只有一个实例**,为什么要这样？

对于系统中的某些类来说，只有一个实例很重要，例如，一个系统中可以存在多个打印任务，但是只能有一个正在工作的任务；一个系统只能有一个窗口管理器或文件系统；一个系统只能有一个计时工具或ID（序号）生成器。

2. **为该实例提供一个全局访问节点**，

全局变量在使用上十分方便， 但同时也非常不安全， 因为任何代码都有可能覆盖掉那些变量的内容， 从而引发程序崩溃。

# 解决方案

所有单例的实现都包含以下两个相同的步骤：

- 将默认构造函数设为`私有`， 防止其他对象使用单例类的 `new`运算符。
- 新建一个静态构建方法作为构造函数。 该函数会 “偷偷” 调用私有构造函数来创建对象， 并将其保存在一个静态成员变量中。 此后所有对于该函数的调用都将返回这一缓存对象。

如果你的代码能够访问单例类， 那它就能调用单例类的静态方法。 无论何时调用该方法， 它总是会返回相同的对象。

# 结构

![image-20230310163810967](https://img2023.cnblogs.com/blog/3010963/202303/3010963-20230310163824368-1403901819.png)